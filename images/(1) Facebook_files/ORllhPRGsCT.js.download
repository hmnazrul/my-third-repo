if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }

__d("refetchCometPrivacySelectorNonAutosavePickerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4710868355640835"}),null);
__d("refetchCometPrivacySelectorNonAutosavePickerQuery.graphql",["CometPrivacySelectorEditable_renderer$normalization.graphql","refetchCometPrivacySelectorNonAutosavePickerQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"localPrivacyRow"},{defaultValue:null,kind:"LocalArgument",name:"privacyWriteID"},{defaultValue:null,kind:"LocalArgument",name:"renderLocation"},{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"tags"}],c=[{kind:"Variable",name:"id",variableName:"privacyWriteID"}],d={kind:"Variable",name:"render_location",variableName:"renderLocation"},e={kind:"Variable",name:"tags",variableName:"tags"},f=[d,{kind:"Variable",name:"selected_override",variableName:"localPrivacyRow"},e],g=[{alias:null,args:null,kind:"ScalarField",name:"allow",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deny",storageKey:null},{alias:null,args:null,concreteType:"PrivacyRowInputTargetingFields",kind:"LinkedField",name:"privacy_targeting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_fields",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tag_expansion_state",storageKey:null}],h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},j={alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[h,i],storageKey:null};e=[{kind:"Variable",name:"localPrivacyRow",variableName:"localPrivacyRow"},{kind:"Variable",name:"renderLocation",variableName:"renderLocation"},e];var k={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={kind:"Variable",name:"scale",variableName:"scale"},m=[{kind:"Literal",name:"icon_purpose",value:"OPTION_LIST"},d,l],n={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},r={alias:null,args:m,concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[n,o,p,q,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"current_tag_expansion",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"explanation",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"explanation_with_tag_expansion",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"info_type",storageKey:null},w={alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:g,storageKey:null};n=[n,o,p,q];o=[k,h];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"refetchCometPrivacySelectorNonAutosavePickerQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:f,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"selected_row_override",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PrivacyRowInput_inline",selections:g}],storageKey:null},j],storageKey:null},{args:e,kind:"FragmentSpread",name:"CometPrivacySelectorPickerContainer_renderer"},{args:e,kind:"FragmentSpread",name:"CometPrivacySelectorEditable_renderer"}],type:"PrivacyScopeEditableRenderer",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"refetchCometPrivacySelectorNonAutosavePickerQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[k,h,{kind:"InlineFragment",selections:[{alias:null,args:f,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"selected_row_override",plural:!1,selections:g,storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"should_save_on_select",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:["PrivacySelectorSimpleHeaderRenderer"]}],concreteType:null,kind:"LinkedField",name:"header_renderer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometPrivacySelectorPicker_scope",fragmentName:"CometPrivacySelectorPickerHeader_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"PrivacySelectorSimpleHeaderRenderer",abstractKey:null}],storageKey:'header_renderer(supported:["PrivacySelectorSimpleHeaderRenderer"])'},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"options",plural:!0,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"is_selected",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:["PrivacyOptionBasicOptionRenderer","PrivacyOptionFullCustomOptionRenderer","PrivacyOptionSavedCustomOptionRenderer","PrivacyOptionLockedProfileDisabledOptionRenderer","PrivacyOptionRestrictedAudienceOptionRenderer"]}],concreteType:null,kind:"LinkedField",name:"renderer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[r,s,t,u,h,v,i,w],storageKey:null}],type:"PrivacyOptionBasicOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[{alias:null,args:m,concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:n,storageKey:null},s,t,u,h,i,w],storageKey:null}],type:"PrivacyOptionFullCustomOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"saved_custom_type",storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"included_members",plural:!0,selections:o,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"excluded_members",plural:!0,selections:o,storageKey:null},h,r,s,t,u,v,i,w],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dialog_title",storageKey:null}],type:"PrivacyOptionSavedCustomOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[r,s,t,u,v,i,w,h],storageKey:null}],type:"PrivacyOptionLockedProfileDisabledOptionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"option",plural:!1,selections:[h,w],storageKey:null}],type:"PrivacyOptionRestrictedAudienceOptionRenderer",abstractKey:null}],storageKey:'renderer(supported:["PrivacyOptionBasicOptionRenderer","PrivacyOptionFullCustomOptionRenderer","PrivacyOptionSavedCustomOptionRenderer","PrivacyOptionLockedProfileDisabledOptionRenderer","PrivacyOptionRestrictedAudienceOptionRenderer"])'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:"trigger_icon_image",args:[{kind:"Literal",name:"icon_purpose",value:"TRIGGER"},d,l],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_write_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_tag_expansion_options",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:["PrivacySelectorDefaultPrivacyFooterRenderer"]}],concreteType:null,kind:"LinkedField",name:"footer_renderer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometPrivacySelectorPickerFooter_scope",fragmentName:"CometDefaultPrivacySelectorPickerFooter_footer",fragmentPropName:"footer",kind:"ModuleImport"}],type:"PrivacySelectorDefaultPrivacyFooterRenderer",abstractKey:null}],storageKey:'footer_renderer(supported:["PrivacySelectorDefaultPrivacyFooterRenderer"])'}],storageKey:null},w,{args:[{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$localPrivacyRow",variableName:"localPrivacyRow"},{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$renderLocation",variableName:"renderLocation"},{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$tags",variableName:"tags"}],fragment:b("CometPrivacySelectorEditable_renderer$normalization.graphql"),kind:"FragmentSpread"}],type:"PrivacyScopeEditableRenderer",abstractKey:null}],storageKey:null}]},params:{id:b("refetchCometPrivacySelectorNonAutosavePickerQuery_facebookRelayOperation"),metadata:{},name:"refetchCometPrivacySelectorNonAutosavePickerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometOnBeforeUnload.react",["useOnBeforeUnload"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.onBeforeUnload;c("useOnBeforeUnload")(a);return null}g["default"]=a}),98);
__d("CometComposerFormRefContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({current:null});g["default"]=b}),98);
__d("CometComposerPluginsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({decorators:new Map(),handlers:new Map()});g["default"]=b}),98);
__d("cometComposerPluginsReducers",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){var c=a.get(b);if(c!=null){a.set(b,c+1);return a}else{c=new Map(a);c.set(b,1);return c}}function h(a,b){var c=a.get(b);if(c!=null)if(c>1)a.set(b,c-1);else{c=new Map(a);c["delete"](b);return c}return a}function a(a,b){switch(b.type){case"install_decorator":case"uninstall_decorator":var c=b.type==="install_decorator"?g(a.decorators,b.decorator):h(a.decorators,b.decorator);if(c!==a.decorators)return babelHelpers["extends"]({},a,{decorators:c});break;case"install_handler":case"uninstall_handler":c=b.type==="install_handler"?g(a.handlers,b.handler):h(a.handlers,b.handler);if(c!==a.handlers)return babelHelpers["extends"]({},a,{handlers:c});break}return a}f["default"]=a}),66);
__d("createEmptyCometComposerViewStateWithTarget",["createEmptyCometComposerViewState"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){b=c("createEmptyCometComposerViewState")(b);return babelHelpers["extends"]({},b,{target:a})}}g["default"]=a}),98);
__d("getComposerPluginEligibility",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Set();for(var d in a){var e=a[d];e=e(b);e!=null&&e.forEach(function(a){return c.add(a)})}return c}f["default"]=a}),66);
__d("getComposerValidationErrors",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};for(var d in a){var e=a[d];e=e(b);e!=null&&(c[d]=e)}return c}f["default"]=a}),66);
__d("isComposerEmpty",["cr:2690"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:2690")}),98);
__d("reduceComposerViewState",["isComposerEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f){var g=d;d=a.current.keys();for(var a=d,d=Array.isArray(a),h=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(d){if(h>=a.length)break;i=a[h++]}else{h=a.next();if(h.done)break;i=h.value}i=i;g=i(g,f)}i=g.lexicalEditorIsDirty===!0||Array.from(b.current.keys()).some(function(a){a=a(e,g);return a===!0||a==="UPDATED"||a==="DELETED"});return babelHelpers["extends"]({},g,{isDirty:i,isEmptyMetaData:{isEmpty:c("isComposerEmpty")?c("isComposerEmpty")(g):!1,useIsEmpty:(d=(h=g.isEmptyMetaData)==null?void 0:h.useIsEmpty)!=null?d:!0}})}g["default"]=a}),98);
__d("useComposerLexicalEligibityCheckHooks.react",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){if(c!=null)for(var d in c){var e=c[d](b);e.size>0&&e.forEach(function(b){return a.add(b)})}return a}f["default"]=a}),66);
__d("useComposerLexicalValidationHooks.react",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};if(b!=null)for(var d in b){var e=b[d](a);e!=null?c[d]=e:c[d]!=null&&delete c[d]}return c}f["default"]=a}),66);
__d("CometComposer.react",["CometComposerFormRefContext","CometComposerIneligibilityContext","CometComposerLoggerDispatcherContext","CometComposerPluginsContext","CometComposerPluginsDispatchContext","CometComposerPreSubmitHooksContext","CometComposerValidationErrorsContext","CometComposerViewStateAlteredContext","CometComposerViewStateContext","CometComposerViewStateDispatcherContext","CometComposerViewStateReducersContext","CometOnBeforeUnload.react","FBLogger","Promise","cometComposerPluginsReducers","createEmptyCometComposerViewStateWithTarget","getComposerPluginEligibility","getComposerUnsavedChangesAlert","getComposerValidationErrors","react","reduceComposerViewState","shallowEqual","useComposerLexicalEligibityCheckHooks.react","useComposerLexicalValidationHooks.react","useComposerTerminalEventLog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useImperativeHandle,k=e.useMemo,l=e.useReducer,m=e.useRef;function a(a,d){var e=a.beginningViewState,f=a.children,g=a.eligibilityCheckers,n=a.lexicalEligibityCheckHooks,o=a.lexicalValidationHooks,p=a.loggers,q=a.onBeforeViewStateChange,r=a.onSubmitCommit,s=a.onSubmitHalt,t=a.onSubmitStart,u=a.onValidationErrors,v=a.registerOnBeforeUnload;v=v===void 0?!0:v;var w=a.target,x=a.unalteredBeginningViewState,y=a.validators,z=m(new Map()),A=m(new Map()),B=m({}),C=m(new Set()),D=m(new Map()),E=m(null);a=m(null);e=l(function(a,b){b=c("reduceComposerViewState")(z,A,a,x,b);E.current=b;q&&q(b,a);return b},e,c("createEmptyCometComposerViewStateWithTarget")(w));var F=e[0];e=e[1];var G=function(){if(!Boolean(F==null?void 0:F.ignoreDirtyFlag))return c("getComposerUnsavedChangesAlert")(F==null?void 0:F.isDirty)};j(d,function(){return{getViewState:function(){return F}}},[F]);d=l(c("cometComposerPluginsReducers"),{decorators:new Map(),handlers:new Map()});var H=d[0];d=d[1];var I=k(function(){return y!=null?c("getComposerValidationErrors")(y,F):{}},[y,F]);o=c("useComposerLexicalValidationHooks.react")(F,o);I=Object.assign({},I,o);c("shallowEqual")(B.current,I)||(B.current=I);o=k(function(){return g!=null?c("getComposerPluginEligibility")(g,F):new Set()},[g,F]);o=c("useComposerLexicalEligibityCheckHooks.react")(o,F,n);C.current.size===o.size&&Array.from(o).every(function(a){return C.current.has(a)})||(C.current=o);var J=i(function(a,c){a!=null&&a.type!=="press"&&a.preventDefault();if(Object.keys(B.current).length>0){u&&u(B.current);return}var d=E.current;if(d==null)return;t&&t();a=D.current;if(a){a=Array.from(a.keys()).reduce(function(a,e){return a.then(function(){return new(b("Promise"))(function(a,b){e({onContinue:a,onHalt:b},d,c)})})},b("Promise").resolve());a.then(function(){r(d,c)})["catch"](function(){s&&s()})}else r(d,c)},[r,s,t,u]),K=F.creationSessionID;I=k(function(){return function(a){var b;K==null?c("FBLogger")("comet_composer").mustfix("creationSessionID should be defined in composer of type "+String(w==null?void 0:w.type)):((b=p)!=null?b:[]).map(function(b){return b(a,K,{target:w})})}},[K,w,p]);c("useComposerTerminalEventLog")(function(){return!Boolean(F==null?void 0:F.ignoreDirtyFlag)&&Boolean(F==null?void 0:F.isDirty)},function(){return K});return h.jsx(c("CometComposerPluginsDispatchContext").Provider,{value:d,children:h.jsx(c("CometComposerPluginsContext").Provider,{value:H,children:h.jsx(c("CometComposerViewStateReducersContext").Provider,{value:z,children:h.jsx(c("CometComposerViewStateAlteredContext").Provider,{value:A,children:h.jsx(c("CometComposerViewStateContext").Provider,{value:F,children:h.jsx(c("CometComposerViewStateDispatcherContext").Provider,{value:e,children:h.jsx(c("CometComposerValidationErrorsContext").Provider,{value:B.current,children:h.jsx(c("CometComposerIneligibilityContext").Provider,{value:C.current,children:h.jsx(c("CometComposerLoggerDispatcherContext").Provider,{value:I,children:h.jsx(c("CometComposerPreSubmitHooksContext").Provider,{value:D,children:h.jsxs(c("CometComposerFormRefContext").Provider,{value:a,children:[h.jsxs("form",{"data-testid":void 0,method:"POST",onSubmit:J,ref:a,children:[k(function(){return f(J)},[f,J]),h.jsx("input",{style:{display:"none"},type:"submit"})]}),v?h.jsx(c("CometOnBeforeUnload.react"),{onBeforeUnload:G}):null]})})})})})})})})})})})}a.displayName=a.name+" [from "+f.id+"]";d=h.forwardRef(a);g["default"]=d}),98);
__d("FeedComposerCometSproutButtonContainer.react",["CometErrorBoundary.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("CometErrorBoundary.react"),{children:a.children})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getOrderedSproutsForLogging",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Array.from(a.keys()).sort(function(b,c){b=a.get(b);c=a.get(c);if(b&&c)return b.index-c.index;else return 0})}f["default"]=a}),66);
__d("getSproutsVisibilitiesForLogging",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b={};a.forEach(function(a){b[a.name]=a.visible});return b}f["default"]=a}),66);
__d("useCometComposerInlineSproutsLogging",["getOrderedSproutsForLogging","getSproutsVisibilitiesForLogging","react","useCometComposerLoggerDispatcher","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useMemo,j=b.useState;function a(a){var b=a.actionType,d=a.maxLoggingCount,e=d===void 0?null:d,f=a.sproutsCount,g=a.sproutsState;d=j(0);var k=d[0],l=d[1];a=j(new Map());var m=a[0],n=c("useDebouncedComet")(function(){var a=e===null||k<e;if(a){a=c("getSproutsVisibilitiesForLogging")(m);var d=c("getOrderedSproutsForLogging")(m);o({fields:{composer_type:null,ordered_sprouts:d,sprout_surface:"UNDIRECTED_FEED_COMPOSER",sprouts_visibilities:a,state:g,total_sprouts_count:f.toString()},type:b});l(k+1)}},{wait:200}),o=c("useCometComposerLoggerDispatcher")(),p=h(function(a){var b={index:m.size,name:a,visible:!1};m.set(a,b)},[m]),q=h(function(a){var b=m.get(a);b&&(b.visible||(b.visible=!0,m.set(a,b),n()))},[n,m]);d=i(function(){return{onRender:p,onVisible:q}},[p,q]);return{loggingHandlers:d}}g["default"]=a}),98);
__d("FeedComposerFullSproutsList.react",["CometComposerPromotionContext","CometComposerSproutVisibilitiesContext","ComposerSproutDisplayTypeContext","FeedComposerCometSproutButtonContainer.react","gkx","react","useCometComposerInlineSproutsLogging","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo;function a(a){var b=a.children,d=a.composerDialogWidth,e=a.popPage,f=i(c("CometComposerPromotionContext"));a=j(function(){return{popPage:e,renderButtonCollapsed:!1,showLabelAsTooltip:!1,type:"push_view"}},[e]);var g=c("useCometComposerInlineSproutsLogging")({actionType:"INLINE_SPROUTS_STATE_CHANGED",sproutsCount:(b==null?void 0:b.length)||0,sproutsState:"full_screen"});g=g.loggingHandlers;return h.jsx(c("ComposerSproutDisplayTypeContext").Provider,{value:a,children:h.jsx(c("CometComposerSproutVisibilitiesContext").Provider,{value:g,children:h.jsx("div",{className:"kkf49tns tvmbv18p cgat1ltu aahdfvyu lhclo0ds j83agx80"+(c("gkx")("1224637")?" qlnuvsl8":""),"data-testid":void 0,style:{width:d},children:h.Children.map(b,function(a,b){return h.jsx("div",{className:(f==null?void 0:f.listContainsPromotion)===!0&&b===0?"k4urcfbm":"ecm0bbzt e5nlhep0 hkbzh7o3",children:h.jsx(c("FeedComposerCometSproutButtonContainer.react"),{children:a})},a.key)})})})})}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){return{composerDialogWidth:(a=a.composerSizeAndStyleMetadata)==null?void 0:a.composerDialogWidth}});g["default"]=e}),98);
__d("isComposerEmptyForDraftJS",["getPlainTextFromDeferredDraftEditorState"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b;if(((b=a.isEmptyMetaData)==null?void 0:b.useIsEmpty)!==!0)return!1;if(((b=a.attachmentArea)==null?void 0:b.activeAttachmentType)!=null&&a.attachmentArea.activeAttachmentType!=="FORMATTED_TEXT")return!1;b=(a==null?void 0:a.editorState)?c("getPlainTextFromDeferredDraftEditorState")(a==null?void 0:a.editorState).trim():"";if(b.length>0)return!1;if(a.footerAttachmentArea!=null)return!1;if(a.withTagIDsTracker!=null&&a.withTagIDsTracker.size>0)return!1;if(a.activityMinutiae!=null)return!1;return a.locationMinutiae!=null?!1:!0}g["default"]=a}),98);
__d("useHandleSideloadedMedia",["fbt","CometComposerAttachmentPluginTypes","cometIsMimeTypeForMedia","composerAttachmentAreaChecker","composerAttachmentAreaReducer","composerMediaAttachmentReducer","react","useComposerPluginIneligibility","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useCallback;function a(a){a===void 0&&(a=!1);c("useComposerViewStateReducer")(d("composerAttachmentAreaReducer").composerAttachmentAreaReducer,c("composerAttachmentAreaChecker"));c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var b=c("useComposerViewStateDispatcher")(),e=c("useComposerPluginIneligibility")(),f=e.has(c("CometComposerAttachmentPluginTypes").MEDIA);return i(function(c){if(!f){c=Array.from(c).filter(function(b){return d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(b.type)||d("cometIsMimeTypeForMedia").isMimeTypeForVideo(b.type)&&!a}).map(function(a){return a instanceof File?a:new File([a],h._(/*FBT_CALL*/"Pasted file"/*FBT_CALL*/).toString())});c.length>0&&(b({attachmentType:"MEDIA",type:"ACTIVATE_ATTACHMENT_TYPE"}),b({files:c,type:"ADD_MEDIA_ATTACHMENT_ITEMS"}))}},[f,a,b])}g["default"]=a}),98);
__d("useCometComposerFormRef",["CometComposerFormRefContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(c("CometComposerFormRefContext"));return a.current}g["default"]=a}),98);
__d("CometComposerInlineErrorRenderer.react",["TetraListCell.react","TetraText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={errorList:{maxHeight:"d7pq72xb",overflowX:"d76ob5m9",overflowY:"eg9m0zos",position:"l9j0dhe7"}};function a(a){var b=a.error;a=a.xstyle;return b==null||b===""?null:h.jsx("div",{className:c("stylex")(i.errorList,a),children:h.jsx(c("TetraListCell.react"),{contentHorizontalPadding:0,headline:h.jsx(c("TetraText.react"),{color:"negative",type:"body3",children:b}),paddingHorizontal:0},"error")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometComposerServerErrorMessage.react",["errorCode","fbt","CometComposerInlineErrorRenderer.react","CometErrorOverlay","JSResourceForInteraction","ServerHTML.react","SilenceableErrorMessageUtils","promiseDone","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useRef,l=c("JSResourceForInteraction")("CometAustraliaNewsDialog.react").__setRef("CometComposerServerErrorMessage.react");function a(a){var b=a.errorMetadata;a=a.xstyle;var e=k(new Set());if(b==null)return null;if(d("SilenceableErrorMessageUtils").shouldHideErrorMessage(b))return null;var f=b==null?void 0:b.message;if(f==null)return null;var g=f!==""?j.jsx(c("ServerHTML.react"),{blob:f}):i._(/*FBT_CALL*/"Sorry, something went wrong. Try again later."/*FBT_CALL*/);f=b==null?void 0:b.code;if(f!=null&&f===2216006){e.current.has(b)||(e.current.add(b),c("promiseDone")(l.load().then(function(a){d("CometErrorOverlay").injectComponent(function(b){return j.jsx(a,{errorDescription:g,onClose:function(){b()}})})})));return j.jsx("div",{})}return j.jsx(c("CometComposerInlineErrorRenderer.react"),{error:g,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getSelectionOffsets",[],(function(a,b,c,d,e,f){"use strict";function b(b){var c=a.getSelection();if(c==null||c.rangeCount===0)return null;var d=c.anchorNode,e=c.anchorOffset,f=c.focusNode;c=c.focusOffset;if(d==null||f==null)return null;var g=0,h=-1,i=-1,j=0,k=0,l=b,m=null;outer:while(!0){var n=null;while(!0){var o;l!=null&&l===d&&(e===0||l.nodeType===Node.TEXT_NODE)&&(h=g+e);l!=null&&l===f&&(c===0||l.nodeType===Node.TEXT_NODE)&&(i=g+c);l!=null&&l.nodeType===Node.TEXT_NODE&&(g+=l.nodeValue.length);if((n=(o=l)==null?void 0:o.firstChild)===null)break;m=l;l=n}while(!0){if(l===b)break outer;m===d&&++j===e&&(h=g);m===f&&++k===c&&(i=g);if((n=(o=l)==null?void 0:o.nextSibling)!==null)break;l=m;m=(o=l)==null?void 0:o.parentNode}l=n}return h===-1||i===-1?null:{end:i,isCollapsed:d===f&&c===e,start:h}}f["default"]=b}),66);
__d("setSelectionOffsets",[],(function(a,b,c,d,e,f){"use strict";function g(a){a=a;while(a!=null&&a.firstChild!=null)a=a.firstChild;return a}function h(a){a=a;while(a!=null){if(a.nextSibling!=null)return a.nextSibling;a=a.parentNode}return null}function i(a,b){var c=g(a),d=0,e;while(c!=null){if(c.nodeType===Node.TEXT_NODE){e=d+c.textContent.length;if(d<=b&&e>=b)return{node:c,offset:b-d};d=e}e=h(c);c=e!=null?g(e):null;if(c!=null&&c.contains(a))return null}return null}function b(b,c){var d=a.getSelection(),e=b.textContent.length,f=Math.min(c.start,e);c=Math.min(c.end,e);if(!d.extend==null&&f>c){e=c;c=f;f=e}e=i(b,f);b=i(b,c);if(e!=null&&b!=null){var g=document.createRange();g.setStart(e.node,e.offset);d.removeAllRanges();f>c?(d.addRange(g),d.extend(b.node,b.offset)):(g.setEnd(b.node,b.offset),d.addRange(g))}}f["default"]=b}),66);
__d("CometPlaintextEditor.react",["FBLogger","ReactDOMComet","clearTimeout","getSelectionOffsets","react","setSelectionOffsets","setTimeout","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={input:{backgroundColor:"g5ia77u1",borderTop:"qu0x051f",borderEnd:"esr5mh6w",borderBottom:"e9989ue4",borderStart:"r7d6kgcz",height:"datstx6m",outline:"lzcic4wl",position:"l9j0dhe7",resize:"ieid39z1",wordBreak:"qv66sw1b",zIndex:"tkr6xdv7"},placeholder:{bottom:"i09qtzwb",color:"pipptul6",end:"n7fi1qx3",overflowX:"ni8dbmo4",overflowY:"stjgntxs",pointerEvents:"hzruof5a",position:"pmk7jnqg",start:"j9ispegn",textOverflow:"ltmttdrg",top:"kr520xx4",userSelect:"abiwlrkh",zIndex:"du4w35lb"},root:{height:"datstx6m",position:"l9j0dhe7",width:"k4urcfbm"}},j=8,k=46,l=13;b=function(b){babelHelpers.inheritsLoose(e,b);function e(){var d,e;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(d=e=b.call.apply(b,[this].concat(g))||this,e.$1=h.createRef(),e.$4=function(a){e.$1.current=a,e.props.onInputRefUpdate&&e.props.onInputRefUpdate(a)},e.$8=function(a){e.props.onBeforeInput&&e.props.onBeforeInput(a),e.$9()},e.$11=function(a){e.props.onBlur&&e.props.onBlur(a),e.props.editorState.hasFocus&&e.notify(babelHelpers["extends"]({},e.props.editorState,{hasFocus:!1,isPendingSelection:!1}))},e.$12=function(a){e.props.onCompositionEnd&&e.props.onCompositionEnd(a),e.props.editorState.isComposing&&e.notify(babelHelpers["extends"]({},e.props.editorState,{isComposing:!1}))},e.$13=function(a){e.props.onCompositionStart&&e.props.onCompositionStart(a),e.props.editorState.isComposing||e.notify(babelHelpers["extends"]({},e.props.editorState,{isComposing:!0}))},e.$14=function(a){e.props.onCut&&e.props.onCut(a),a.isDefaultPrevented()||e.$9()},e.$15=function(a){e.$10();e.props.onInput&&e.props.onInput(a);if(!a.isDefaultPrevented()){a=e.$6();a!==null&&e.props.editorState.text!==a&&e.notify(babelHelpers["extends"]({},e.props.editorState,{text:a}))}},e.$16=function(a){var b=e.props.onReturn;if(b!=null&&a.keyCode===l&&!(a.getModifierState("Shift")||a.getModifierState("Alt")||a.getModifierState("Control"))){b(a);return}e.props.onKeyDown&&e.props.onKeyDown(a);!a.isDefaultPrevented()&&(a.keyCode===j||a.keyCode===k)&&e.$9()},e.$17=function(a){e.props.onFocus&&e.props.onFocus(a),!a.isDefaultPrevented()&&!e.props.editorState.hasFocus&&e.notify(babelHelpers["extends"]({},e.props.editorState,{hasFocus:!0}))},e.$18=function(){e.notify(babelHelpers["extends"]({},e.props.editorState,{isPendingSelection:!0})),e.$2=c("setTimeout")(function(){c("FBLogger")("CometPlaintextEditor").warn("_onMouseDown had no corresonding mouseup event for 30s."),e.notify(babelHelpers["extends"]({},e.props.editorState,{isPendingSelection:!1}))},3e4),document.addEventListener("mouseup",function(){var a=e.$1.current;a===document.activeElement&&e.notify(babelHelpers["extends"]({},e.props.editorState,{isPendingSelection:!1}))},{once:!0})},e.$19=function(b){e.props.onPaste&&e.props.onPaste(b);if(!b.isDefaultPrevented()){b.preventDefault();try{b=b.clipboardData.getData("text/plain")}catch(d){var c;typeof ((c=a.clipboardData)==null?void 0:c.getData)==="function"&&(b=a.clipboardData.getData("Text"))}if(b!=null&&!document.execCommand("insertText",!1,b)&&!document.execCommand("insertHTML",!1,b)){c=a.getSelection();if(c!=null){var d=c.getRangeAt(0);if(d!=null){d.deleteContents();b=document.createTextNode(b);d.insertNode(b);d=d.cloneRange();d.setStartAfter(b);d.collapse(!0);c.removeAllRanges();c.addRange(d);e.$9();return}}}b=e.$6();b!==null&&e.props.editorState.text!==b&&e.notify(babelHelpers["extends"]({},e.props.editorState,{text:b}))}},e.$20=function(a){e.props.onSelect&&e.props.onSelect(a);var b=e.$1.current;if(!a.isDefaultPrevented()&&b!=null){a=c("getSelectionOffsets")(b);e.notify(babelHelpers["extends"]({},e.props.editorState,{isPendingSelection:!1,selectionOffsets:a}))}},d)||babelHelpers.assertThisInitialized(e)}var f=e.prototype;f.componentDidMount=function(){this.$5()};f.componentDidUpdate=function(a){(a.editorState.text!==this.props.editorState.text||a.editorState.selectionOffsets!==this.props.editorState.selectionOffsets)&&this.$5()};f.componentWillUnmount=function(){c("clearTimeout")(this.$2),delete this.$2,c("clearTimeout")(this.$3),delete this.$3};f.notify=function(a){var b=this,e=d("ReactDOMComet").unstable_flushControlled,f=function(){!a.isPendingSelection&&b.$2!=null&&(c("clearTimeout")(b.$2),delete b.$2),b.props.onStateChange(a)};e!=null?e(function(){return f()}):f()};f.$6=function(){var a=this.$1.current;if(a==null)return null;var b=a.innerText||"";return a.textContent!==""?b:""};f.$5=function(){var a=this.$1.current;if(a===null||this.$7())return;var b=this.props.editorState.text,d=this.props.editorState.selectionOffsets;document.activeElement===a&&d==null&&(d=c("getSelectionOffsets")(a));var e=this.$6();e!==null&&b!==e&&(a.innerText=b,d!=null&&(b===""?(a.innerText="\xa0",c("setSelectionOffsets")(a,{end:0,start:0}),document.execCommand("delete",!1,null)):c("setSelectionOffsets")(a,{end:d.end,start:d.start})))};f.$7=function(){return this.$3!=null};f.$10=function(){c("clearTimeout")(this.$3),delete this.$3};f.$9=function(){var a=this;this.$7()&&this.$10();this.$3=c("setTimeout")(function(){var b=a.$1.current;if(b==null||!a.$7())return;a.$10();var d=a.$6();if(d!==null&&a.props.editorState.text!==d){b=c("getSelectionOffsets")(b);a.notify(babelHelpers["extends"]({},a.props.editorState,{selectionOffsets:b,text:d}))}},0)};f.focus=function(){this.$1.current&&this.$1.current.focus()};f.focusEnd=function(){var a=this.$1.current;if(a&&window.getSelection&&document.createRange){var b=document.createRange();b.selectNodeContents(a);b.collapse(!1);a=window.getSelection();a.removeAllRanges();a.addRange(b)}};f.render=function(){var a=this.props,b=a.editorState,d=a.onClick;a.onStateChange;var e=a.placeholder,f=a.placeholderXStyle,g=a.readOnly;g=g===void 0?!1:g;var j=a.testid;j=babelHelpers.objectWithoutPropertiesLoose(a,["editorState","onClick","onStateChange","placeholder","placeholderXStyle","readOnly","testid"]);j.onInputRefUpdate;j.onReturn;a=babelHelpers.objectWithoutPropertiesLoose(j,["onInputRefUpdate","onReturn"]);j=b.text.trim().length>0;b=h.jsxs("div",{className:c("stylex")(i.root),"data-testid":void 0,children:[h.jsx("div",babelHelpers["extends"]({},a,{"aria-labelledby":this.props["aria-labelledby"],className:c("stylex")(i.input),contentEditable:!g,onBeforeInput:this.$8,onBlur:this.$11,onCompositionEnd:this.$12,onCompositionStart:this.$13,onCut:this.$14,onFocus:this.$17,onInput:this.$15,onKeyDown:this.$16,onMouseDown:this.$18,onPaste:this.$19,onSelect:this.$20,ref:this.$4})),j||e==null?null:h.jsx("div",{className:c("stylex")(i.placeholder,f),children:e})]});return d!=null?h.jsx("div",{onClick:d,role:"none",children:b}):b};return e}(h.PureComponent);g["default"]=b}),98);
__d("DeferredDraftEditor.react",["CometPlaintextEditor.react","SubscriptionsHandler","cr:2012305","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("DraftEditor.react").__setRef("DeferredDraftEditor.react"),j=c("requireDeferred")("EditorState").__setRef("DeferredDraftEditor.react"),k=c("requireDeferred")("getEditorStateFromContentEditableState").__setRef("DeferredDraftEditor.react"),l={root:{boxSizing:"rq0escxv",height:"datstx6m",width:"k4urcfbm"}};function m(){return{DraftEditor:i.getModuleIfRequireable(),EditorState:j.getModuleIfRequireable(),getEditorStateFromContentEditableState:k.getModuleIfRequireable()}}a=function(a){babelHelpers.inheritsLoose(d,a);function d(){var b,e;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=h.createRef(),e.$2=null,e.$3=h.createRef(),e.$4=new(c("SubscriptionsHandler"))(),e.$5=function(a){var b=e.props.handlePastedFiles;if(b){var c=a.clipboardData;c=c.items!=null?Array.from(c.items):[];c=c.map(function(a){return a.getAsFile()}).filter(Boolean);c.length&&(b(c)==="handled"&&a.preventDefault())}},e.$9=function(a){e.$8(a,e.$2),e.$2=a},e.$10=function(a){e.$1.current=a;a=a==null?void 0:a.editor;var b=e.props.onInputRefUpdate;b!=null&&b(a instanceof HTMLDivElement?a:null)},e.$6=function(){var a=e.props.editorState;if(a.__type!==d.PLAIN_TEXT||a.isPendingSelection||a.isComposing||!d.richDependenciesAreMet())return;var b=m();b=b.getEditorStateFromContentEditableState;if(b==null)return;var c=e.props,f=c.decorator;c=c.onStateChange;c&&c({__type:d.EDITOR_STATE,draftEditorState:b(a,f)})},e.onEditorStateChange=function(a){if(e.props.onStateChange!=null){var b=e.props.editorState;b.draftEditorState!==a&&e.props.onStateChange(b.__type===d.EDITOR_STATE?babelHelpers["extends"]({},b,{draftEditorState:a}):{__type:d.EDITOR_STATE,draftEditorState:a})}},e.onPlainTextChange=function(a){e.props.onStateChange&&e.props.onStateChange(a)},e.onPlaintextReturn=function(a){e.props.handleReturn&&e.props.handleReturn(a)},b)||babelHelpers.assertThisInitialized(e)}d.richDependenciesAreMet=function(){var a=m();for(var b in a)if(a[b]==null)return!1;return!0};d.createEmptyComposerState=function(){var a=m();a=a==null?void 0:a.EditorState;return a!=null&&d.richDependenciesAreMet()?{__type:d.EDITOR_STATE,draftEditorState:a.createEmpty()}:{__type:d.PLAIN_TEXT,hasFocus:!1,isComposing:!1,isPendingSelection:!1,selectionOffsets:null,text:""}};var e=d.prototype;e.componentDidMount=function(){var a=this.props.autoFocus;!d.richDependenciesAreMet()?this.$4.addSubscriptions(i.onReady(this.$6),j.onReady(this.$6),k.onReady(this.$6)):this.$6();a===!0&&this.focusEnd()};e.focus=function(){this.$3.current!=null?this.$3.current.focus():this.$1.current!=null&&this.$1.current.focus()};e.focusEnd=function(){if(this.$3.current!=null)this.$3.current.focusEnd();else if(this.$1.current!=null){var a=j.getModuleIfRequired(),b=this.props.onStateChange;if(a!=null&&b!=null){var c=this.props.editorState;c.draftEditorState&&b({__type:"editor-state-based",draftEditorState:a.moveFocusToEnd(c.draftEditorState)})}}};e.componentDidUpdate=function(a){this.$6();if(a.typingPerformanceAnnotations!==this.props.typingPerformanceAnnotations){a=this.$2;a&&(this.$7(),this.$8(a))}};e.$8=function(a,c){if(b("cr:2012305")===null||a==null)return;var d=this.props,e=d.blockStyleFn;d=d.typingPerformanceAnnotations;d=babelHelpers["extends"]({},d,{editor:"DraftjsEditor",format:e!=null?"RichText":"PlainText"});b("cr:2012305").trackTypingPerf(a,(e=this.props.typingPerformanceID)!=null?e:"DeferredDraftEditor",c,d)};e.componentWillUnmount=function(){this.$4.release(),this.$7()};e.$7=function(){var a=this.$2;a&&b("cr:2012305")&&b("cr:2012305").unregisterTypingPerf(a)};e.render=function(){var a=m();a=a==null?void 0:a.DraftEditor;var b=this.props,e=b.editorState;b=babelHelpers.objectWithoutPropertiesLoose(b,["editorState"]);if(a&&e.__type===d.EDITOR_STATE)return h.jsx("div",{className:c("stylex")(l.root,this.props.xstyle),children:h.jsx(a,babelHelpers["extends"]({},b,{editorRef:this.$9,editorState:e.draftEditorState,onChange:this.onEditorStateChange,onClick:this.props.onClick,placeholder:this.props.placeholder,placeholderClassName:c("stylex")(this.props.placeholderXStyle),ref:this.$10,tabIndex:0,webDriverTestID:this.props.testid!==void 0?this.props.testid+":rich-input":void 0}))});else if(e.__type===d.EDITOR_STATE)throw i.load();else if(e.__type===d.PLAIN_TEXT)return h.jsx("div",{className:c("stylex")(l.root,this.props.xstyle),children:h.jsx(c("CometPlaintextEditor.react"),{"aria-labelledby":this.props.ariaLabelledBy,editorState:e,onClick:this.props.onClick,onInputRefUpdate:this.props.onInputRefUpdate,onPaste:this.$5,onReturn:this.onPlaintextReturn,onStateChange:this.onPlainTextChange,placeholder:this.props.placeholder,placeholderXStyle:this.props.placeholderXStyle,ref:this.$3,testid:void 0})})};return d}(h.PureComponent);a.EDITOR_STATE="editor-state-based";a.PLAIN_TEXT="plain-text";g["default"]=a}),98);
__d("createComposerDeferredPlugin",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||(g=b("react"));c=g;var i=c.useEffect,j=c.useRef,k=c.useState;function a(a){function b(b){var c=j(a.getModuleIfRequireable()),d=k(c.current!=null);d[0];var e=d[1];i(function(){var b=a.onReady(function(a){c.current=a,e(!0)});b=b.remove;return b},[]);if(c.current!=null){d=c.current;return h.jsx(d,babelHelpers["extends"]({},b))}return null}return h.memo(b)}e.exports=a}),null);
__d("composerEditorRefViewStateReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"update_editor_ref":if(b.editorRef!==a.editorRef)return babelHelpers["extends"]({},a,{editorRef:b.editorRef});break}return a}f["default"]=a}),66);
__d("composerTextStateChecker",["getPlainTextFromDeferredDraftEditorState"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return(a==null?void 0:a.__type)==="editor-state-based"?a.draftEditorState.getCurrentContent():null};function a(a,b){var d=h(a==null?void 0:a.editorState),e=h(b.editorState);if(d&&e)return!d.equals(e);d=(a==null?void 0:a.editorState)?c("getPlainTextFromDeferredDraftEditorState")(a==null?void 0:a.editorState).trim():"";e=(b==null?void 0:b.editorState)?c("getPlainTextFromDeferredDraftEditorState")(b==null?void 0:b.editorState).trim():"";return d!==e}g["default"]=a}),98);
__d("useCometMentionsARIAProperties",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(){var a=i(),b=a[0],c=a[1];a=i();var d=a[0],e=a[1];a=h(function(a,b){e(a),c(b)},[]);return[{ariaActiveDescendantID:d,ariaControls:b},a]}g["default"]=a}),98);
__d("useMemoCompositeDecorator",["CometComposerPluginsContext","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect,j=b.useMemo,k=b.useState,l=c("requireDeferred")("CompositeDraftDecorator").__setRef("useMemoCompositeDecorator");function a(){var a=h(c("CometComposerPluginsContext")),b=a.decorators,d=l.getModuleIfRequired();a=k(d!=null);a[0];var e=a[1];i(function(){var a=l.onReady(function(){e(!0)});return a.remove},[]);return j(function(){if(d==null)return null;if(b.size===0)return null;var a=Array.from(b.keys());a.sort(function(a,b){return a.priority-b.priority});return new d(a)},[b,d])}g["default"]=a}),98);
__d("CometComposerEditor.react",["CometComposerPluginsContext","CometMentionsA11yContext","DeferredDraftEditor.react","DraftEditorFlushControlled","Keys","composerEditorRefViewStateReducer","composerEditorStateViewStateReducer","composerTextStateChecker","cr:11134","getDefaultKeyBinding","isSoftNewlineEvent","react","requireDeferred","useCometComposerFormRef","useCometMentionsARIAProperties","useComposerViewStateDispatcher","useComposerViewStateReducer","useMemoCompositeDecorator","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useContext,k=e.useEffect,l=e.useMemo,m=e.useRef,n=c("requireDeferred")("EditorState").__setRef("CometComposerEditor.react"),o=(d=b("cr:11134"))!=null?d:h.Fragment,p={root:{boxSizing:"rq0escxv",display:"a8c37x1j",height:"datstx6m",width:"k4urcfbm"}};function q(a,b){if(a==null)return b;return b==null?a:function(){var c=a.apply(void 0,arguments);return c==="handled"?c:b.apply(void 0,arguments)}}function r(a,b){if(a==null)return b;return b==null?a:function(c){var d=b(c);d==null&&(d=a(c));return d}}function s(a,b,c){switch(a){case"ComposerEditor/submit":return"handled"}return"not-handled"}function t(a){var b=j(c("CometComposerPluginsContext")),d=b.handlers;return l(function(){var b=Array.from(d.keys());b.sort(function(a,b){return a.priority-b.priority});return b.reduce(function(a,b){return{handleBeforeInput:q(a.handleBeforeInput,b.handleBeforeInput),handleDrop:q(a.handleDrop,b.handleDrop),handleDroppedFiles:q(a.handleDroppedFiles,b.handleDroppedFiles),handleKeyCommand:q(a.handleKeyCommand,b.handleKeyCommand),handlePastedFiles:q(a.handlePastedFiles,b.handlePastedFiles),handlePastedText:q(a.handlePastedText,b.handlePastedText),handleReturn:q(a.handleReturn,b.handleReturn),keyBindingFn:r(a.keyBindingFn,b.keyBindingFn)}},a)},[d,a.handleBeforeInput,a.handleDrop,a.handleDroppedFiles,a.handleKeyCommand,a.handlePastedFiles,a.handlePastedText,a.handleReturn,a.keyBindingFn])}function a(a,b){var d=a.autoFocus;d=d===void 0?!0:d;var e=a.draftEditorRendering,f=a.editorState,g=a.onChange,j=a.onEscape,q=a.readOnly;q=q===void 0?!1:q;var u=a.renderLabel,v=a.spellCheck;v=v===void 0?!0:v;var w=a.stripPastedStyles;w=w===void 0?!0:w;var x=a.submitOnEnter,y=x===void 0?!1:x;x=a.testid;x=a.textAlignment;var z=a.textDirectionality,A=a.typingPerformanceAnnotations,B=a.typingPerformanceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoFocus","draftEditorRendering","editorState","onChange","onEscape","readOnly","renderLabel","spellCheck","stripPastedStyles","submitOnEnter","testid","textAlignment","textDirectionality","typingPerformanceAnnotations","typingPerformanceID"]);var C=m(!1),D=m(!1),E=c("useCometComposerFormRef")();c("useComposerViewStateReducer")(c("composerEditorStateViewStateReducer"),c("composerTextStateChecker"));c("useComposerViewStateReducer")(c("composerEditorRefViewStateReducer"));var F=f!=null&&f.__type==="editor-state-based"?f.draftEditorState.isInCompositionMode():!1;k(function(){if(C.current&&!F&&D.current){D.current=!1;if(E!=null){var a=new Event("submit",{bubbles:!0,cancelable:!0});E.dispatchEvent(a)}}C.current=F},[F,E]);var G=i(function(a){if(E!=null&&E instanceof HTMLFormElement){a.preventDefault();if(C.current)D.current=!0;else{typeof window.Event==="function"?a=new Event("submit",{bubbles:!0,cancelable:!0}):(a=document.createEvent("Event"),a.initEvent("submit",!0,!0));E.dispatchEvent(a)}return"ComposerEditor/submit"}},[E]),H=i(function(a){return a.keyCode===c("Keys").RETURN&&!c("isSoftNewlineEvent")(a)?G(a):void 0},[G]),I=i(function(a){return a.keyCode===c("Keys").RETURN&&(a.metaKey||a.ctrlKey)?G(a):void 0},[G]),J=i(function(a){return a.keyCode===c("Keys").ESC&&j!=null?j():void 0},[j]),K=a.handleBeforeInput,L=a.handleDrop,M=a.handleDroppedFiles,N=a.handleKeyCommand,O=a.handlePastedFiles,P=a.handlePastedText,Q=a.handleReturn,R=a.keyBindingFn,S=a.placeholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["handleBeforeInput","handleDrop","handleDroppedFiles","handleKeyCommand","handlePastedFiles","handlePastedText","handleReturn","keyBindingFn","placeholder"]);var T=t({handleBeforeInput:K,handleDrop:L,handleDroppedFiles:M,handleKeyCommand:N,handlePastedFiles:O,handlePastedText:P,handleReturn:Q,keyBindingFn:r(c("getDefaultKeyBinding"),R)}),U=i(function(a){var b=T.keyBindingFn&&T.keyBindingFn(a),c=b!=="MentionsAutocomplete/cancel"?r(T.keyBindingFn,J):T.keyBindingFn;c=r(c,I);if(y&&b!=="MentionsAutocomplete/select-mention"){b=r(c,H);return b&&b(a)}return c&&c(a)},[J,I,H,T,y]),V=i(function(a,b,c){if((T.handleKeyCommand==null?void 0:T.handleKeyCommand(a,b,c))==="handled")return"handled";return y?s(a,b,c):"not-handled"},[T,y]);K=l(function(){return babelHelpers["extends"]({},T,{handleKeyCommand:V,keyBindingFn:U})},[T,V,U]);L=n.getModuleIfRequired();M=c("useMemoCompositeDecorator")();var W=c("useComposerViewStateDispatcher")();N=f==null?c("DeferredDraftEditor.react").createEmptyComposerState():f;O=i(function(a){W({editorRef:a,type:"update_editor_ref"})},[W]);P=i(function(a){c("DraftEditorFlushControlled")?c("DraftEditorFlushControlled")(function(){return W({editorState:g!=null?g(a):a,type:"update_editor_state"})}):W({editorState:g!=null?g(a):a,type:"update_editor_state"})},[W,g]);N.__type===c("DeferredDraftEditor.react").EDITOR_STATE&&N.draftEditorState.getDecorator()!==M&&L!=null&&(N=babelHelpers["extends"]({},N,{draftEditorState:L.set(N.draftEditorState,{decorator:M})}));Q=!1;R=!1;N.__type===c("DeferredDraftEditor.react").PLAIN_TEXT?(Q=N.hasFocus,R=N.text!=null):N.__type===c("DeferredDraftEditor.react").EDITOR_STATE&&(Q=N.draftEditorState.getSelection().getHasFocus(),R=N.draftEditorState.getCurrentContent().hasText());f=u!=null&&!Q||N.__type===c("DeferredDraftEditor.react").EDITOR_STATE&&N.draftEditorState.getCurrentContent().getBlockMap().first().getType()!=="unstyled"?void 0:S;L=c("useCometMentionsARIAProperties")();S=L[0];L=L[1];return h.jsx(c("CometMentionsA11yContext").Provider,{value:L,children:h.jsxs(o,{children:[u?u({isEditorFilled:R,isEditorFocused:Q}):null,h.jsx(c("DeferredDraftEditor.react"),babelHelpers["extends"]({},a,K,e,S,{autoFocus:d,decorator:M,editorState:N,onInputRefUpdate:O,onStateChange:P,placeholder:f,readOnly:q,ref:b,spellCheck:v,stripPastedStyles:w,testid:void 0,textAlignment:x,textDirectionality:z,typingPerformanceAnnotations:A,typingPerformanceID:(L=B)!=null?L:"CometComposerEditor",xstyle:p.root}))]})})}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(h.forwardRef(a),function(a){return{editorState:a.editorState}});g["default"]=e}),98);
__d("CometComposerHashtagsTypeaheadPluginDeferred.react",["createComposerDeferredPlugin","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=c("createComposerDeferredPlugin")(c("requireDeferred")("CometComposerHashtagsTypeaheadPlugin.react").__setRef("CometComposerHashtagsTypeaheadPluginDeferred.react"));g["default"]=a}),98);
__d("CometComposerEllipsisSproutButton.react",["fbt","ix","CometComposerPromotionContext","CometComposerPushPageContext","CometComposerSproutButton.react","FeedComposerCometSproutButtonContainer.react","FeedComposerFullSproutsList.react","react","useCometComposerPushPage"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext;function a(a){var b=a.sprouts,d=c("useCometComposerPushPage")(),e=k(c("CometComposerPromotionContext"));return j.jsx(c("FeedComposerCometSproutButtonContainer.react"),{children:j.jsx(c("CometComposerSproutButton.react"),{activeColor:"var(--fds-spectrum-slate-tint-70)",disabledIcon:i("479259"),icon:i("496429"),label:h._(/*FBT_CALL*/"More"/*FBT_CALL*/),loggingName:"ellipsis_sprout",onClick:function(){d(h._(/*FBT_CALL*/"Add to your post"/*FBT_CALL*/),function(a){a=a.onReturn;return j.jsx(c("CometComposerPushPageContext").Provider,{value:d,children:j.jsx(c("CometComposerPromotionContext").Provider,{value:e,children:j.jsx(c("FeedComposerFullSproutsList.react"),{popPage:a,children:b})})})})},pluginName:"ELLIPSIS",sproutName:"ELLIPSIS",testid:void 0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometComposerSproutList.react",["CometComposerEllipsisSproutButton.react","CometComposerSproutVisibilitiesContext","CometTooltipGroup.react","FeedComposerCometSproutButtonContainer.react","react","useCometComposerInlineSproutsLogging"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.numInlineSprouts,d=a.sprouts;a=a.wideContainer;a=a===void 0?!1:a;var e=c("useCometComposerInlineSproutsLogging")({actionType:"INLINE_SPROUTS_INITIAL_STATE",maxLoggingCount:1,sproutsCount:d.length,sproutsState:"collapsed"});e=e.loggingHandlers;var f=d.length>b,g=d;f&&(g=d.slice(0,b-1));return h.jsx("div",{className:"j83agx80"+(a?" k4urcfbm i1fnvgqd":""),children:h.jsx(c("CometComposerSproutVisibilitiesContext").Provider,{value:e,children:h.jsxs(c("CometTooltipGroup.react"),{children:[g.map(function(a){return h.jsx("div",{className:"dwxx2s2f dicw6rsg kady6ibp rs0gx3tq",children:h.jsx(c("FeedComposerCometSproutButtonContainer.react"),{children:a})},a.key)}),f?h.jsx("div",{className:"dwxx2s2f dicw6rsg kady6ibp rs0gx3tq",children:h.jsx(c("CometComposerEllipsisSproutButton.react"),{sprouts:d})}):null]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometComposerPushedPageOnLoad",[],(function(a,b,c,d,e,f){a=Object.freeze({ASK_FOR_RECOMMENDATIONS:"ask_for_recommendations",ASK_ME_ANYTHING:"ask_me_anything",COMMUNITY_QA:"community_qa",CONNECT_WHATSAPP:"connect_whatsapp",FEELING:"feeling",FUNDRAISER:"fundraiser",GET_MESSAGES:"get_messages",GET_WHATSAPP_MESSAGES:"get_whatsapp_messages",LOCAL_ALERT_TAGGER:"local_alert_tagger",LOCATION_TAGGER:"location_tagger",LOOKING_FOR_PLAYERS:"looking_for_players",MLE:"mle",PRAYER:"prayer",PRODUCT_TAGGER:"product_tagger",QUILTS_COMPOSER:"quilts_composer",SHARE_CANDIDATE:"share_candidate",SHIFT_COVER:"shift_cover",SHIFT_MANAGEMENT_COVER:"shift_management_cover",VIDEO_MEETUP:"video_meetup",VIDEO_PICKER:"video_picker",VOTING_ALERT_TAGGER:"voting_alert_tagger",WITH_TAGGER:"with_tagger"});f["default"]=a}),66);
__d("CometComposerSproutListMatcher.react",["CometComposerPushedPageOnLoad","CometComposerSproutList.react","CometRelay","CometRouteParams","castToEnum","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.hasPromotion,d=a.numInlineSprouts,e=a.sproutProps,f=a.sprouts;a=a.wideContainer;return h.jsx(c("CometComposerSproutList.react"),{numInlineSprouts:d,sprouts:i(f,e,b),wideContainer:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=d("CometRouteParams").useRouteParams();a=a.composer_push_page;return c("castToEnum")(a,c("CometComposerPushedPageOnLoad"))}function i(a,b,e){a==null&&c("recoverableViolation")("Server failed to provide a valid sprouts object for the composer.","comet_composer");e=e===!0?j(a,b):{promotedSprout:null,unprocessedSprouts:a};a=e.promotedSprout;e=e.unprocessedSprouts;return[a].concat(((a=e)!=null?a:[]).map(function(a,c){return h.jsx(d("CometRelay").MatchContainer,{match:a,props:b},c)})).filter(Boolean)}function j(a,b){if(a==null)return{unprocessedSprouts:a};var c=a.slice(0,2),e=c[0];c=c[1];c=h.jsx(d("CometRelay").MatchContainer,{match:c,props:b},-1);b=h.jsx(d("CometRelay").MatchContainer,{match:e,props:{children:c}},-1);return{promotedSprout:b,unprocessedSprouts:a.slice(2)}}a.useMatcher=i;g.CometComposerSproutListMatcher=a;g.useGetSproutToPushTo=b}),98);
__d("ComposerDefaultPrivacyUtils",["gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("1217157")===!1&&c("qex")._("1298")===!0;b=c("qex")._("1299")===!0;g.isDefaultPrivacyEnabled=a;g.isDefaultPrivacyAutoOptInEnabled=b}),98);
__d("refetchCometPrivacySelectorNonAutosavePicker",["CometRelay","PrivacyRowInput","WebPixelRatio","refetchCometPrivacySelectorNonAutosavePickerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=a.dispatch,e=a.environment,f=a.onComplete,g=a.privacyWriteID,i=a.rawLocalPrivacyRow,j=a.renderLocation,k=a.tags;d("CometRelay").fetchQuery(e,h!==void 0?h:h=b("refetchCometPrivacySelectorNonAutosavePickerQuery.graphql"),{localPrivacyRow:i,privacyWriteID:g,renderLocation:j,scale:d("WebPixelRatio").get(),tags:k}).subscribe({next:function(a){a=(a=a.node)==null?void 0:a.privacy_scope_for_location;var b=a==null?void 0:a.selected_row_override;b=d("PrivacyRowInput").getPrivacyRowInput(b);var h=(b=b)!=null?b:i;d("CometRelay").commitLocalUpdate(e,function(a){a=a.get(g);if(a==null)return;var b=a.getLinkedRecord("privacy_scope_for_location",{render_location:j,selected_override:i,tags:k});if(b==null)return;a.setLinkedRecord(b,"privacy_scope_for_location",{render_location:j,selected_override:h,tags:k})});c({localPrivacyRow:h,type:"setLocalPrivacyRow"});f==null?void 0:f(a==null?void 0:(b=a.selected_option)==null?void 0:b.id,h,a==null?void 0:(b=a.selected_option)==null?void 0:b.label)}})}g["default"]=a}),98);
__d("useCometPrivacySelectorChangePrivacy",["fbt","CometPrivacySelectorSavePrivacyMutation","CometRelay","PrivacyMutationToken","WebPixelRatio","react","refetchCometPrivacySelectorNonAutosavePicker","useCometAlertDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useCallback;function a(a){var b=a.dispatch,e=a.onPrivacyChange,f=a.onPrivacyChangeStart,g=a.privacyWriteID,j=a.renderLocation,k=a.shouldSaveOnSelect,l=a.storyRenderLocation,m=a.tags,n=d("PrivacyMutationToken").usePrivacyMutationToken(),o=c("useCometAlertDialog")(),p=d("CometRelay").useRelayEnvironment();a=i(function(a,i){var q;if(i==null||g==null)return;f&&f(i);q={input:{privacy_mutation_token:n,privacy_row_input:{allow:(q=i.allow)!=null?q:[],base_state:i.base_state,deny:(q=i.deny)!=null?q:[],privacy_targeting:i.privacy_targeting,tag_expansion_state:(q=i.tag_expansion_state)!=null?q:"UNSPECIFIED"},privacy_write_id:g,render_location:j},privacySelectorRenderLocation:j,scale:d("WebPixelRatio").get(),storyRenderLocation:l,tags:m};a={privacyWriteID:g,selectedOptionID:a};k?d("CometPrivacySelectorSavePrivacyMutation").commitPrivacySaveMutation(q,{environment:p,onCompleted:function(){b({localPrivacyRow:null,type:"setLocalPrivacyRow"}),e&&e({privacyRowInput:i,type:"success"})},onError:function(a){var b;b=(b=a.summary)!=null?b:h._(/*FBT_CALL*/"Error"/*FBT_CALL*/);a=(a=a.description)!=null?a:h._(/*FBT_CALL*/"Sorry, something went wrong."/*FBT_CALL*/);o({body:a,title:b},function(){});e&&e({type:"error"})},updaterVariables:a}):(d("CometPrivacySelectorSavePrivacyMutation").commitLocalPrivacyChange({environment:p,mutationVariables:q,updaterVariables:a}),c("refetchCometPrivacySelectorNonAutosavePicker")({dispatch:b,environment:p,onComplete:function(a,b,c){e==null?void 0:e({__newLocalPrivacyRow:b,label:c,privacyRowInput:b,type:"success"})},privacyWriteID:g,rawLocalPrivacyRow:i,renderLocation:j,tags:m}))},[b,p,e,f,n,g,j,k,o,l,m]);return a}g["default"]=a}),98);